# VibeSnap 功能测试指南

## 测试新的标注工具栏功能

### 前提条件
1. VibeSnap 应用已启动（菜单栏显示相机图标）
2. 已授予屏幕录制权限

### 测试步骤

#### 测试 1：基本截图流程
1. 按下快捷键 `⇧⌘1` 或从菜单栏选择 "Capture Area"
2. **预期**：屏幕变暗，出现选择覆盖层
3. 拖动鼠标选择一个区域
4. **预期**：显示选择框和尺寸信息
5. 释放鼠标
6. **预期**：立即出现标注工具栏（4 个按钮：Copy, Save, Edit, Cancel）

#### 测试 2：Copy 功能
1. 完成截图后，点击 "Copy" 按钮
2. **预期**：工具栏消失
3. 打开任意应用（如 Notes、Slack、微信）
4. 按 `⌘V` 粘贴
5. **预期**：截图成功粘贴

#### 测试 3：Save 功能
1. 完成截图后，点击 "Save" 按钮
2. **预期**：打开保存对话框
3. 选择保存位置，输入文件名
4. 点击 "Save"
5. **预期**：文件成功保存到指定位置

#### 测试 4：Edit 功能
1. 完成截图后，点击 "Edit" 按钮
2. **预期**：工具栏消失，打开编辑器窗口
3. 使用标注工具（箭头、矩形、高亮等）
4. 点击 "Done" 按钮
5. **预期**：显示编辑后的缩略图

#### 测试 5：Cancel 功能
1. 完成截图后，点击 "Cancel" 按钮
2. **预期**：工具栏消失，截图被丢弃
3. 检查历史记录
4. **预期**：历史记录中没有这张截图

#### 测试 6：工具栏定位
测试不同位置的截图，确保工具栏定位正确：

**测试 6.1：屏幕中央截图**
- 在屏幕中央截图
- **预期**：工具栏显示在截图区域下方，居中对齐

**测试 6.2：屏幕底部截图**
- 在屏幕底部截图
- **预期**：工具栏显示在截图区域上方（因为下方空间不足）

**测试 6.3：屏幕左侧截图**
- 在屏幕左侧截图
- **预期**：工具栏向右偏移，保持在屏幕内

**测试 6.4：屏幕右侧截图**
- 在屏幕右侧截图
- **预期**：工具栏向左偏移，保持在屏幕内

#### 测试 7：多屏幕支持
如果有多个显示器：
1. 在第二个显示器上截图
2. **预期**：工具栏显示在第二个显示器上，定位正确

#### 测试 8：快速连续截图
1. 完成第一次截图，工具栏出现
2. 按 `Esc` 或点击 "Cancel"
3. 立即按 `⇧⌘1` 开始第二次截图
4. **预期**：第一个工具栏消失，第二次截图正常工作

### 已知问题检查

- [ ] 工具栏是否正确定位在截图区域附近？
- [ ] 工具栏是否完全在屏幕可见区域内？
- [ ] 按钮点击是否有响应？
- [ ] Copy 功能是否正确复制到剪贴板？
- [ ] Save 功能是否打开保存对话框？
- [ ] Edit 功能是否打开编辑器？
- [ ] Cancel 功能是否正确清理资源？
- [ ] 动画是否流畅？
- [ ] 是否有内存泄漏？

### 性能测试

1. 连续截图 10 次，每次都使用不同的操作
2. 检查内存使用情况
3. **预期**：内存使用稳定，无明显增长

### 与旧功能的对比

#### 旧流程
1. 截图 → 缩略图出现在右下角
2. 需要 hover 才能看到按钮
3. 5 秒后自动消失

#### 新流程
1. 截图 → 工具栏立即出现在截图区域附近
2. 按钮直接可见，无需 hover
3. 用户主动选择操作，不会自动消失

### 反馈

如果发现任何问题，请记录：
- 问题描述
- 重现步骤
- 预期行为
- 实际行为
- 截图或录屏（如果可能）
